<!DOCTYPE html>
 <html lang="en">
 <head>
   <meta charset="UTF-8">
   <title>Customer Dashboard</title>
   <style>
     body { font-family: Arial; padding: 30px; text-align: center; background-color: #f5f5f5; }
     .nav-buttons { display: flex; justify-content: space-between; margin-bottom: 20px; }
     .nav-buttons button {
       padding: 8px 14px;
       background-color: #2a9d8f;
       color: white;
       border: none;
       border-radius: 5px;
       cursor: pointer;
     }
     .nav-buttons button:hover { background-color: #21867a; }
     .registered-workshop {
       border: 1px solid #ccc;
       padding: 20px;
       margin: 20px auto;
       max-width: 450px;
       border-radius: 8px;
       background: #ffffff;
       text-align: left;
     }
   </style>
 </head>
 <body>
   <script src="workshops-data.js"></script>
 
 <div class="nav-buttons">
   <button onclick="window.location.href='workshops.html'">Available Workshops</button>
   <button onclick="logout()">Logout</button>
 </div>
 
 <h2>Registered Workshops</h2>
 
 <div id="dashboardWorkshops">
   Loading...
 </div>
 
 <script>
 const user = JSON.parse(localStorage.getItem('user'));
 const workshops = JSON.parse(localStorage.getItem('workshops')) || [];
 
 const container = document.getElementById('dashboardWorkshops');
 
 if (!user || !user.registeredWorkshops || user.registeredWorkshops.length === 0) {
   container.innerHTML = "<p>You have not registered for any workshops yet.</p>";
 } else {
   user.registeredWorkshops.forEach(id => {
     const workshop = workshops.find(w => w.id === id);
     if (workshop) {
       const div = document.createElement('div');
       div.className = 'registered-workshop';
       div.innerHTML = `
         <h3>${workshop.title}</h3>
         <p><strong>Date:</strong> ${workshop.date}</p>
         <p><strong>Time:</strong> ${workshop.time}</p>
         <p><strong>Location:</strong> ${workshop.location}</p>
         <p><strong>Trainer:</strong> ${workshop.trainer}</p>
         <button onclick="markAsAttended('${workshop.id}')">Mark as Attended</button>
         <button onclick="cancelWorkshop('${workshop.id}')">Cancel Registration</button>
       `;
       container.appendChild(div);
     }
   });
 }
 
 function markAsAttended(id) {
   localStorage.setItem('attendedWorkshop', id);
   window.location.href = 'feedback.html';
 }
 
 function cancelWorkshop(id) {
   if (confirm('Are you sure you want to cancel registration?')) {
     const user = JSON.parse(localStorage.getItem('user'));
     const workshops = JSON.parse(localStorage.getItem('workshops'));
 
     user.registeredWorkshops = user.registeredWorkshops.filter(wid => wid !== id);
     const workshop = workshops.find(w => w.id === id);
 
     if (workshop) {
       workshop.capacity++;
       workshop.participants = (workshop.participants || []).filter(name => name !== user.name);
       localStorage.setItem('workshops', JSON.stringify(workshops));
     }
 
     localStorage.setItem('user', JSON.stringify(user));
     window.location.reload();
   }
 }
 
 function logout() {
   localStorage.clear();
   window.location.href = 'login.html';
 }
 </script>
 
 </body>
 </html>
